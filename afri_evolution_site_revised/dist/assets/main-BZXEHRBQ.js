(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=t(r);fetch(r.href,l)}})();(function(){const s="ae-theme";let e=null;try{e=localStorage.getItem(s)}catch{}const t=window.matchMedia("(prefers-color-scheme: dark)").matches,i=e??(t?"dark":"light");if(document.documentElement.classList.toggle("dark",i==="dark"),!e)try{localStorage.setItem(s,i)}catch{}function l(){try{const c=document.getElementById("theme-toggle");if(!c)return;const o=document.documentElement.classList.contains("dark");c.setAttribute("aria-pressed",o?"true":"false"),c.setAttribute("aria-label",`Toggle dark mode (currently ${o?"on":"off"})`)}catch{}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",l):l()})();window.aeToggleTheme=()=>{const e=document.documentElement.classList.toggle("dark");try{localStorage.setItem("ae-theme",e?"dark":"light")}catch{}try{const t=document.getElementById("theme-toggle");t&&(t.setAttribute("aria-pressed",e?"true":"false"),t.setAttribute("aria-label",`Toggle dark mode (currently ${e?"on":"off"})`))}catch{}};(function(){const s=document.getElementById("main");function e(){if(s)try{s.hasAttribute("tabindex")||s.setAttribute("tabindex","-1"),s.focus()}catch{}}document.querySelectorAll('a[href="#main"]').forEach(t=>{t.addEventListener("click",i=>{setTimeout(e,0)})}),location.hash==="#main"&&setTimeout(e,0)})();(()=>{const s="ae-skin",e="ae-glass-variant",t=document.body,i=[{skin:"",variant:"",label:"Off"},{skin:"glass",variant:"v-subtle",label:"Subtle"},{skin:"glass",variant:"",label:"Standard"},{skin:"glass",variant:"v-bold",label:"Bold"}];try{const a=localStorage.getItem(s),n=localStorage.getItem(e);a==="glass"&&(t.setAttribute("data-skin","glass"),n&&t.setAttribute("data-glass-variant",n))}catch(a){console.warn("Glass skin: localStorage unavailable",a)}window.aeSetGlassVariant=a=>{let n;if(a==="off")n=i[0];else if(a==="v-subtle")n=i[1];else if(a==="standard")n=i[2];else if(a==="v-bold")n=i[3];else return;console.log(`Glass: Selecting ${n.label}`),n.skin?(t.setAttribute("data-skin",n.skin),n.variant?t.setAttribute("data-glass-variant",n.variant):t.removeAttribute("data-glass-variant"),console.log(`Glass ${n.label} ENABLED`)):(t.removeAttribute("data-skin"),t.removeAttribute("data-glass-variant"),console.log("Glass effect OFF"));try{localStorage.setItem(s,n.skin),localStorage.setItem(e,n.variant)}catch(g){console.warn("Glass skin: Could not save preference",g)}r(a);const d=document.getElementById("glass-toggle");if(d){d.setAttribute("aria-pressed",n.skin==="glass"?"true":"false");try{const g=d.querySelector(".sr-only");g?g.textContent=`Glass: ${n.label}`:d.setAttribute("aria-label",`Toggle glass effect (currently ${n.label})`)}catch{d.setAttribute("aria-label",`Toggle glass effect (currently ${n.label})`)}}window.dispatchEvent(new CustomEvent("skinChanged",{detail:{skin:n.skin||"default",variant:n.variant,label:n.label}}))};function r(a){const n=document.getElementById("glass-panel");n&&n.querySelectorAll(".panel-item").forEach(d=>{d.classList.remove("active"),d.getAttribute("data-variant")===a&&d.classList.add("active")})}if(window.aeToggleSkin=()=>{const a=t.getAttribute("data-skin")||"",n=t.getAttribute("data-glass-variant")||"";let d=i.findIndex(h=>h.skin===a&&h.variant===n);d===-1&&(d=0);const g=(d+1)%i.length,f=i[g];console.log(`Glass cycle: ${i[d].label} â†’ ${f.label}`);let u="off";f.skin==="glass"&&f.variant==="v-subtle"?u="v-subtle":f.skin==="glass"&&!f.variant?u="standard":f.skin==="glass"&&f.variant==="v-bold"&&(u="v-bold"),window.aeSetGlassVariant(u);const m=document.getElementById("glass-panel");m&&(m.classList.toggle("open"),m.setAttribute("aria-hidden",m.classList.contains("open")?"false":"true"))},window.matchMedia("(max-width: 768px)").matches){let a,n=!1;window.addEventListener("scroll",()=>{n||(t.classList.add("scrolling"),n=!0),clearTimeout(a),a=setTimeout(()=>{t.classList.remove("scrolling"),n=!1},150)},{passive:!0})}document.addEventListener("DOMContentLoaded",()=>{const a=document.getElementById("glass-toggle"),n=document.getElementById("glass-panel");if(a){const d=t.getAttribute("data-skin")||"",g=t.getAttribute("data-glass-variant")||"",f=i.find(u=>u.skin===d&&u.variant===g)||i[0];a.setAttribute("aria-pressed",d==="glass"?"true":"false");try{const u=a.querySelector(".sr-only");u?u.textContent=`Glass: ${f.label}`:a.setAttribute("aria-label",`Toggle glass effect (currently ${f.label})`)}catch{a.setAttribute("aria-label",`Toggle glass effect (currently ${f.label})`)}}if(n){n.querySelectorAll(".panel-item").forEach(m=>{m.addEventListener("click",h=>{h.preventDefault();const v=m.getAttribute("data-variant");window.aeSetGlassVariant(v),n.classList.remove("open"),n.setAttribute("aria-hidden","true")})});const g=t.getAttribute("data-skin")||"",f=t.getAttribute("data-glass-variant")||"";let u="off";g==="glass"&&f==="v-subtle"?u="v-subtle":g==="glass"&&!f?u="standard":g==="glass"&&f==="v-bold"&&(u="v-bold"),r(u),document.addEventListener("click",m=>{if(n.classList.contains("open")){const h=n.contains(m.target),v=a&&a.contains(m.target);!h&&!v&&(n.classList.remove("open"),n.setAttribute("aria-hidden","true"))}})}});const l=t.getAttribute("data-skin")||"",c=t.getAttribute("data-glass-variant")||"",o=i.find(a=>a.skin===l&&a.variant===c)||i[0];console.log(`ðŸŽ¨ Glass skin module loaded: ${o.label}`),console.log("Click glass toggle to cycle: Off â†’ Subtle â†’ Standard â†’ Bold")})();const p={launchpad_interest:{product_key:"launchpad",section:"services_page",cta_position:"services_card"},dcf_interest:{product_key:"dcf",section:"services_page",cta_position:"services_card"},flowstudio_interest:{product_key:"flowstudio",section:"services_page",cta_position:"services_card"},connectcrm_interest:{product_key:"connectcrm",section:"services_page",cta_position:"services_card"},chatboost_interest:{product_key:"chatboost",section:"services_page",cta_position:"services_card"}};function S({label:s,location:e="unknown"}){if(typeof window.gtag=="function")if(p[s]){const t=p[s];window.gtag("event",s,{product_key:t.product_key,section:t.section,cta_position:t.cta_position,page_path:window.location.pathname})}else window.gtag("event","cta_click",{cta_label:s,cta_location:e,page_path:window.location.pathname})}function y(){document.querySelectorAll("[data-cta]").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-cta"),i=e.getAttribute("data-cta-location");S({label:t,location:i})})})}function k(){const s=document.querySelector('[data-toggle="mobile-menu"]'),e=document.getElementById("mobile-menu");if(!s||!e)return;const t=s.querySelector(".menu-icon"),i=s.querySelector(".close-icon");function r(o){o?(document.body.style.overflow="hidden",document.documentElement.style.overscrollBehavior="contain"):(document.body.style.overflow="",document.documentElement.style.overscrollBehavior="")}function l(){const o=!e.classList.contains("open");o?(e.classList.remove("hidden"),e.offsetWidth,e.classList.add("open")):(e.classList.remove("open"),setTimeout(()=>e.classList.add("hidden"),260)),s.setAttribute("aria-expanded",o?"true":"false"),e.setAttribute("aria-hidden",o?"false":"true"),r(o),o?(t?.classList.add("hidden"),i?.classList.remove("hidden")):(t?.classList.remove("hidden"),i?.classList.add("hidden"))}function c(){e.classList.remove("open"),setTimeout(()=>e.classList.add("hidden"),260),e.setAttribute("aria-hidden","true"),s.setAttribute("aria-expanded","false"),r(!1),t?.classList.remove("hidden"),i?.classList.add("hidden")}s.addEventListener("click",l),e.addEventListener("click",o=>{const a=o.target;a&&a.closest&&a.closest("a")&&c()}),document.addEventListener("keydown",o=>{o.key==="Escape"&&e.classList.contains("open")&&(c(),s.focus())}),document.addEventListener("click",o=>{if(e.classList.contains("open")){const a=e.contains(o.target),n=s.contains(o.target);!a&&!n&&c()}})}function w(){const s={root:null,rootMargin:"0px",threshold:.1},e=new IntersectionObserver(t=>{t.forEach(i=>{i.isIntersecting&&(i.target.classList.add("is-visible"),e.unobserve(i.target))})},s);document.querySelectorAll(".fade-in, .fade-in-up, .reveal").forEach(t=>{e.observe(t)})}function L(){try{const s=(location.pathname.split("/").pop()||"index.html").toLowerCase();document.querySelectorAll("header a[aria-current], #mobile-menu a[aria-current]").forEach(e=>{e.removeAttribute("aria-current")}),document.querySelectorAll("header a[href], #mobile-menu a[href]").forEach(e=>{const t=(e.getAttribute("href")||"").toLowerCase();(t===s||t.endsWith(s))&&e.setAttribute("aria-current","page")})}catch(s){console.error("Error highlighting active nav:",s)}}function E(s){const e=document.getElementById(s);if(!e)return;function t(r,l){const c=document.getElementById(`err-${r}`),o=document.getElementById(r);c&&c.classList.toggle("hidden",!l),o&&(o.setAttribute("aria-invalid",l?"true":"false"),l?o.classList.add("border-danger"):o.classList.remove("border-danger"))}function i(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}e.addEventListener("submit",async r=>{r.preventDefault();let l=!0;const c=document.getElementById("name");c&&!c.value.trim()?(t("name",!0),l=!1):c&&t("name",!1);const o=document.getElementById("email");o&&!i(o.value)?(t("email",!0),l=!1):o&&t("email",!1);const a=document.getElementById("message");if(a&&!a.value.trim()?(t("message",!0),l=!1):a&&t("message",!1),!!l&&e.action.includes("formspree.io"))try{const n=await fetch(e.action,{method:"POST",body:new FormData(e),headers:{Accept:"application/json"}}),d=document.getElementById("form-message");n.ok?(d&&(d.classList.remove("hidden"),d.classList.add("show")),e.reset()):alert("There was a problem submitting the form. Please try again.")}catch(n){console.error("Form submission error:",n),alert("There was a problem submitting the form. Please try again.")}})}function A(){document.querySelectorAll(".accordion-header").forEach(s=>{s.addEventListener("click",function(){const e=this.nextElementSibling,t=this.querySelector("span");e.classList.contains("active")?(e.classList.remove("active"),e.style.maxHeight="0",t.innerHTML='<svg aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>'):(document.querySelectorAll(".accordion-content.active").forEach(i=>{i.classList.remove("active"),i.style.maxHeight="0",i.previousElementSibling.querySelector("span").innerHTML='<svg aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>'}),e.classList.add("active"),e.style.maxHeight=e.scrollHeight+"px",t.innerHTML='<svg aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minus"><line x1="5" y1="12" x2="19" y2="12"></line></svg>')})})}function _(){const s=document.querySelector("header");if(!s)return;let e=window.scrollY,t=!1;const i=100,r=5;function l(){const o=window.scrollY,a=o-e;o<i?(s.classList.remove("nav-hidden"),s.classList.remove("scrolled")):a>r&&o>i?(s.classList.add("nav-hidden"),s.classList.add("scrolled")):a<-r&&(s.classList.remove("nav-hidden"),s.classList.add("scrolled")),e=o,t=!1}function c(){t||(window.requestAnimationFrame(l),t=!0)}window.addEventListener("scroll",c,{passive:!0})}function b(){k(),w(),L(),A(),_(),y(),document.getElementById("contactForm")&&E("contactForm")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",b):b();window.AfriEvolution={init:b,initMobileMenu:k,initScrollAnimations:w,highlightActiveNav:L,initFormValidation:E,initAccordions:A,initCtaTracking:y};
